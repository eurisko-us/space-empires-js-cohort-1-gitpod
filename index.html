<!DOCTYPE html>
<html>

<head>
	<!-- <meta charset="utf-8"> -->
	<!-- <meta name="viewport" content="width=device-width"> -->
	<title>Space Empires</title>
  <!-- <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Play:wght@700&display=swap" rel="stylesheet"> -->

  <link rel="stylesheet" href="index.css">
  <script src="/socket.io/socket.io.js"></script>
  <script>const socket = io();

    socket.on('gameState', (data) => {
        updateBoard(data.gameState);
    });
    
    function updateBoard(gameState) {
        // Delete board table if it already exists because we're just going to recreate it
        let boardTable = document.getElementById('board');
        if (boardTable) {
            document.body.removeChild(boardTable);
        }
    
        boardTable = document.createElement('table');
        boardTable.id = 'board';

        document.body.appendChild(boardTable);
    
        for(let i = 0; i < gameState["boardSize"]; i++) {
            let row = boardTable.insertRow();
    
            for(let j = 0; j < board.numCols; j++) {
                let spaceValue = board.spaces[i][j];
    
                let cell = row.insertCell();
                cell.className = 'boardSpace';
                cell.width = "20px";
                cell.height = "20px";
                if (spaceValue === 1) {
                    cell.style.backgroundColor = 'red';
                } else if (spaceValue === 2)  {
                    cell.style.backgroundColor = 'blue';
                } else {
                    cell.style.backgroundColor = 'black';
                }
            }
        }
    }</script>     
</head>
<body>
</body>

</html>